% Last updated: 21 March 2022%% This code crops images of HUVEC sprouting in fibrin gels%% Code modified from: https://stackoverflow.com/a/52056605% Thanks to users Sardar Usama, Zep % License: CC BY-SA 4.0%% Select directory% [name] = uigetdir('','Select a directory');% if isequal(name, 0) %     dName= '';% else%     dName = [name];%     cd(dName);% end%% Create list in directory using file extensionsprompt = {'Enter the file extension of the cropped image files (e.g., *.tif or *.png'};dlg_title = 'Define file extension';num_lines = 1;def = {'*.tif'};answer = inputdlg(prompt,dlg_title,num_lines,def);gfpDir=dir(answer{1});%% Create cropped imagescount = 0;for j = 1:length(gfpDir)    count=count+1;        gfp = imread(gfpDir(j).name);    % https://stackoverflow.com/questions/51814111/cropping-multiple-parts-from-the-single-image-in-matlab    k = 1;    f = figure;    imagesc(gfp(:,:,:))    while true        title('Double click to select next area, press Esc when finished')        [tt, bb] = imcrop(f);        if isempty(tt)            close(f)            break        end        crop.gfp{k,:} = tt;        crop.bb{k,:} = bb;                [filepath,name,ext] = fileparts(gfpDir(j).name);        imwrite(crop.gfp{k,1},strcat(name,['_' num2str((k)) 'Crop'],ext));  % Save image                               k = k+1;             endend%% Move filesmkdir Croppedmkdir Originalmovefile('*Crop.tif', 'Cropped');movefile('*.tif', 'Original');